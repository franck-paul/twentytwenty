$.fn.twentytwenty=function(t){return t=$.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},t),this.each((function(){let e=t.default_offset_pct;const n=$(this),a=t.orientation,s="vertical"===a?"down":"left",i="vertical"===a?"up":"right";if(n.wrap(`<div class='twentytwenty-wrapper twentytwenty-${a}'></div>`),!t.no_overlay){n.append("<div class='twentytwenty-overlay'></div>");const e=n.find(".twentytwenty-overlay");e.append(`<div class='twentytwenty-before-label' data-content='${t.before_label}'></div>`),e.append(`<div class='twentytwenty-after-label' data-content='${t.after_label}'></div>`)}const o=n.find("img:first"),l=n.find("img:last");n.append("<div class='twentytwenty-handle'></div>");const c=n.find(".twentytwenty-handle");c.append(`<span class='twentytwenty-${s}-arrow'></span>`),c.append(`<span class='twentytwenty-${i}-arrow'></span>`),n.addClass("twentytwenty-container"),o.addClass("twentytwenty-before"),l.addClass("twentytwenty-after");const d=t=>{const e=(t=>{const e=o.width(),n=o.height();return{w:`${e}px`,h:`${n}px`,cw:t*e+"px",ch:t*n+"px"}})(t);c.css("vertical"===a?"top":"left","vertical"===a?e.ch:e.cw),(t=>{"vertical"===a?(o.css("clip",`rect(0,${t.w},${t.ch},0)`),l.css("clip",`rect(${t.ch},${t.w},${t.h},0)`)):(o.css("clip",`rect(0,${t.cw},${t.h},0)`),l.css("clip",`rect(0,${t.w},${t.h},${t.cw})`)),n.css("height",t.h)})(e)},r=(t,e)=>{const n="vertical"===a?(e-v)/p:(t-w)/f;return s=n,i=0,o=1,Math.max(i,Math.min(o,s));var s,i,o};$(window).on("resize.twentytwenty",(t=>{d(e)}));var w=0,v=0,f=0,p=0;const y=t=>{((t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==a||(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===a)&&t.preventDefault(),n.addClass("active"),w=n.offset().left,v=n.offset().top,f=o.width(),p=o.height()},h=t=>{n.hasClass("active")&&(e=r(t.pageX,t.pageY),d(e))},_=()=>{n.removeClass("active")},m=t.move_with_handle_only?c:n;m.on("movestart",y),m.on("move",h),m.on("moveend",_),t.move_slider_on_hover&&(n.on("mouseenter",y),n.on("mousemove",h),n.on("mouseleave",_)),c.on("touchmove",(t=>{t.preventDefault()})),n.find("img").on("mousedown",(t=>{t.preventDefault()})),t.click_to_move&&n.on("click",(t=>{w=n.offset().left,v=n.offset().top,f=o.width(),p=o.height(),e=r(t.pageX,t.pageY),d(e)})),$(window).trigger("resize.twentytwenty")}))};
