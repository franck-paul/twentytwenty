(()=>{const t=()=>{const t=Object.assign||window.jQuery&&jQuery.extend,e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout((()=>{t()}),25)};(()=>{if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t})();const n={textarea:!0,input:!0,select:!0,button:!0},o="mousemove",i="mouseup dragstart",c="mouseup",a="touchmove",u="touchend",r="touchend",d=/\s+/,s={bubbles:!0,cancelable:!0},m="function"==typeof Symbol?Symbol("events"):{};function f(t){return t[m]||(t[m]={})}function l(t,e,n,o,i){e=e.split(d);const c=f(t);let a,u,r=e.length;function s(t){n(t,o)}for(;r--;)u=e[r],a=c[u]||(c[u]=[]),a.push([n,s]),t.addEventListener(u,s)}function p(t,e,n,o){e=e.split(d);const i=f(t);let c,a,u,r=e.length;if(i)for(;r--;)if(c=e[r],a=i[c],a)for(u=a.length;u--;)a[u][0]===n&&(t.removeEventListener(c,a[u][1]),a.splice(u,1))}function v(e,n,o){const i=function(t){return new CustomEvent(t,s)}(n);o&&t(i,o),e.dispatchEvent(i)}function g(t){let n=t,o=!1,i=!1;function c(t){o?(n(),e(c),i=!0,o=!1):i=!1}this.kick=t=>{o=!0,i||c()},this.end=t=>{const e=n;t&&(i?(n=o?()=>{e(),t()}:t,o=!0):t())}}function h(){}function X(t){t.preventDefault()}function Y(t,e){let n,o;if(t.identifiedTouch)return t.identifiedTouch(e);for(n=-1,o=t.length;++n<o;)if(t[n].identifier===e)return t[n]}function y(t,e){const n=Y(t.changedTouches,e.identifier);if(n&&(n.pageX!==e.pageX||n.pageY!==e.pageY))return n}function w(t,e){S(t,e,t,T)}function b(t,e){T()}function T(){p(document,o,w),p(document,i,b)}function E(t){p(document,a,t.touchmove),p(document,u,t.touchend)}function S(t,e,n,o){const i=n.pageX-e.pageX,c=n.pageY-e.pageY;i*i+c*c<64||function(t,e,n,o,i,c){const a=t.targetTouches,u=t.timeStamp-e.timeStamp,r={altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,startX:e.pageX,startY:e.pageY,distX:o,distY:i,deltaX:o,deltaY:i,pageX:n.pageX,pageY:n.pageY,velocityX:o/u,velocityY:i/u,identifier:e.identifier,targetTouches:a,finger:a?a.length:1,enableMove(){this.moveEnabled=!0,this.enableMove=h,t.preventDefault()}};v(e.target,"movestart",r),c(e)}(t,e,n,i,c,o)}function k(t,e){const{timer:n}=e;e.touch=t,e.timeStamp=t.timeStamp,n.kick()}function K(t,e){const{target:n,event:i,timer:a}=e;p(document,o,k),p(document,c,K),C(n,i,a,(()=>{setTimeout((()=>{p(n,"click",X)}),0)}))}function j(t,e){const{target:n,event:o,timer:i}=e,c=Y(t.changedTouches,o.identifier);c&&(!function(t){p(document,a,t.activeTouchmove),p(document,r,t.activeTouchend)}(e),C(n,o,i))}function C(t,e,n,o){n.end((()=>(v(t,"moveend",e),o?.())))}if(l(document,"mousedown",(function(t){(function(t){return 1===t.which&&!t.ctrlKey&&!t.altKey})(t)&&(function(t){return!!n[t.target.tagName.toLowerCase()]}(t)||(l(document,o,w,t),l(document,i,b,t)))})),l(document,"touchstart",(function(t){if(n[t.target.tagName.toLowerCase()])return;const e=t.changedTouches[0],o={target:e.target,pageX:e.pageX,pageY:e.pageY,identifier:e.identifier,touchmove(t,e){!function(t,e){const n=y(t,e);if(!n)return;S(t,e,n,E)}(t,e)},touchend(t,e){!function(t,e){const n=Y(t.changedTouches,e.identifier);if(!n)return;E(e)}(t,e)}};l(document,a,o.touchmove,o),l(document,u,o.touchend,o)})),l(document,"movestart",(function(t){if(t.defaultPrevented)return;if(!t.moveEnabled)return;const e={startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},n={target:t.target,event:e,timer:new g((function(t){(function(t,e,n){const o=n-t.timeStamp;t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/o,t.velocityY=.3*t.velocityY+.7*t.deltaY/o,t.pageX=e.pageX,t.pageY=e.pageY})(e,n.touch,n.timeStamp),v(n.target,"move",e)})),touch:void 0,timeStamp:t.timeStamp};if(void 0===t.identifier)return l(t.target,"click",X),l(document,o,k,n),void l(document,c,K,n);n.activeTouchmove=(t,e)=>{!function(t,e){const{event:n,timer:o}=e,i=y(t,n);i&&(t.preventDefault(),n.targetTouches=t.targetTouches,e.touch=i,e.timeStamp=t.timeStamp,o.kick())}(t,e)},n.activeTouchend=(t,e)=>{j(t,e)},l(document,a,n.activeTouchmove,n),l(document,r,n.activeTouchend,n)})),!window.jQuery)return;const Q="startX startY pageX pageY distX distY deltaX deltaY velocityX velocityY".split(" ");function q(t){t.enableMove()}function A(t){t.enableMove()}function F(t){t.enableMove()}function M(t){const{handler:e}=t;t.handler=function(t){let n,o=Q.length;for(;o--;)n=Q[o],t[n]=t.originalEvent[n];e.apply(this,arguments)}}jQuery.event.special.movestart={setup(){return l(this,"movestart",q),!1},teardown(){return p(this,"movestart",q),!1},add:M},jQuery.event.special.move={setup(){return l(this,"movestart",A),!1},teardown(){return p(this,"movestart",A),!1},add:M},jQuery.event.special.moveend={setup(){return l(this,"movestart",F),!1},teardown(){return p(this,"movestart",F),!1},add:M}};"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=t:t()})();
